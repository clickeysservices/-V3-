<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BikeLife V3 with YouTube Audio</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #002200;
    color: #ffd700;
  }

  /* Your existing styles can go here */

  /* Mute toggle button bottom right */
  #mute-btn {
    position: fixed;
    bottom: 15px;
    right: 15px;
    width: 50px;
    height: 50px;
    background: #8b0000cc;
    border: none;
    border-radius: 50%;
    color: #ffd700;
    font-size: 28px;
    cursor: pointer;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 0 10px #ffd700cc;
  }

  /* Hide the YouTube iframe */
  #player {
    position: fixed;
    width: 0;
    height: 0;
    left: -9999px;
    top: -9999px;
  }
</style>
</head>
<body>

<button id="mute-btn" aria-label="Toggle Sound">ðŸ”‡</button>

<!-- Hidden YouTube Player -->
<div id="player"></div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
  let player;

  function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
      height: '0',
      width: '0',
      videoId: 'V48HXBP41vs', // your video ID here
      playerVars: {
        autoplay: 1,
        loop: 1,
        playlist: 'V48HXBP41vs',
        controls: 0,
        mute: 1,
        modestbranding: 1,
        rel: 0,
        iv_load_policy: 3,
        enablejsapi: 1,
        playsinline: 1,
      },
      events: {
        onReady: (event) => {
          event.target.playVideo();
          event.target.mute(); // start muted to allow autoplay
        },
        onStateChange: (event) => {
          // Restart video on end (loop)
          if(event.data === YT.PlayerState.ENDED) {
            player.playVideo();
          }
        }
      }
    });
  }

  const muteBtn = document.getElementById('mute-btn');

  muteBtn.addEventListener('click', () => {
    if (!player) return;
    if (player.isMuted()) {
      player.unMute();
      player.playVideo(); // ensure audio starts
      muteBtn.textContent = 'ðŸ”Š';
    } else {
      player.mute();
      muteBtn.textContent = 'ðŸ”‡';
    }
  });
</script>

</body>
</html>
